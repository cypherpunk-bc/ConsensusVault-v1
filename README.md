# 🤝 ConsensusVault
### A Stake-Locking Protocol Driven by Game Theory and On-chain Consensus

`ConsensusVault` 是一种基于**博弈论**与**链上共识**的去中心化资产锁定协议。它不依赖于任何中心化管理员的意志，而是通过智能合约的硬性逻辑，将个人的退出权与集体的共识状态深度绑定。

---

## 💎 协议哲学：零特权博弈 (Zero-Privilege Game)

在 Web3 世界，资产归属权由私钥保证，但“何时能动用资产”通常由协议控制。`ConsensusVault` 的核心逻辑是：**资产永远属于你，但钥匙属于集体。**

* **绝对安全性：** 合约中没有任何 `ownerWithdraw` 或类似管理员提现的接口。资金的流动路径被锁死在“存入点”与“原路返回点”之间，任何人（包括部署者）都无法挪用他人的本金。
* **多玩家博弈：** 不同于传统 DeFi 的“想走就走”，这是一个联机博弈。参与者在“获取更多分红”和“尽快取回本金”之间权衡，而 **50% 的投票门槛** 是打破僵局的唯一路径。

---

## 🚀 核心机制

### 1. 权重与实时分红 (The $O(1)$ Engine)
当你存入资产，你便获得了金库的“共识权重”。
* **真实收益：** 所有的分红来自外部的 `donate`（捐赠），而非代币增发。
* **数学公平：** 采用 $O(1)$ 算法，确保无论金库规模多大，分红计算都极其精准且节省 Gas。

### 2. 共识门槛 (The 50% Barrier)
解锁金库需要跨越“共识红线”：
* **投票锁定：** 一旦你点击 `Vote`，你将无法再追加本金。这意味着你必须在“增加权重以获取未来更多收益”和“支持尽快解锁”之间做出最终选择。
* **多数正义：** 只有当已投票权重超过总权重的 50% 时，解锁倒计时才会启动。

---

## 🌍 现实生活中的应用场景

`ConsensusVault` 将抽象的合约逻辑转化为可靠的社会契约工具：

### A. 互助基金 (Mutual Fund)
* **场景：** 团体成员存入生活保障金。
* **博弈点：** 社会捐赠持续流入并分发给坚持者。只有当 50% 以上的人认为“诉求已达成”或“到了撤退时机”，资金才集体释放。
* **优势：** 解决了“谁来管钱”的信任问题，钱始终在成员自己的提现权限下。

### B. 团队财务自律 (Collective Discipline)
* **场景：** 几个朋友约定共同储蓄，或在特定时间内不准动用某笔资产。
* **博弈点：** 钱是自己的，但如果你想中途提现，必须说服半数以上的朋友为你“投票解锁”。这种社交压力配合合约硬锁定，能极好地对抗个人冲动消费。

### C. “钻石手”社区实验 (Diamond Hand Club)
* **场景：** 粉丝团或币友群展示凝聚力。
* **博弈点：** 只要大家不投票，金库就一直锁着。任何对该社区的外部赞助（Donate）都会自动按比例分给还在锁仓的忠诚持有者。

---

## 🛠 技术特性

* **无 VToken 设计：** 极其精简的代码实现，不发行额外的 ERC20 代币，拒绝炒作，彻底锚定现实用途。
* **防 Dust 残留：** 独特的结算逻辑，最后一名退出者将自动带走由于计算精度产生的细微余数。
* **解锁倒计时：** 共识达成后设有 24 小时的解锁保护期，增加协议稳健性。

---

## 🗺 路线图 (Roadmap)

我们计划在未来版本中引入更多灵活的共识触发条件：

- [ ] **价格触发解锁 (Oracle Hook)：** 接入价格预言机。例如：当底层资产价格达到目标或跌破止损线时，自动降低共识门槛或释放资金。
- [ ] **白名单金库 (Whitelisted Vault)：** 仅允许特定地址参与，适用于私密团队或 DAO 内部使用。
- [ ] **动态筹款接口 (Funding Hook)：** 探索在特定共识比例下，允许授权第三方提取部分资金用于项目开发的逻辑。
- [ ] **自定义共识阈值：** 支持创建时设置 66% (绝对多数) 或 100% (完全一致) 的解锁逻辑。

